  {% set figure = article.header.figure %}
  <figure>
    {{ dump(figure) }}
    {% if figure %}
      {% set fig_img = figure.image %}
    {% endif %}
    {% if not fig_img %}
      {% set img = article.media.images | first %}
      {% set fig_img = img.url %}
    {% endif %}

    {% if fig_img ends with '.svg'  %}
      {% set img = article.media.files[fig_img] %}
       {{ img.html(figure.title, figure.alt, 'svg') }}
      <!-- <object type="image/svg+xml" data="{{ img.url }}" title="{{ figure.title }}" alt="{{ figure.alt }}">
        {{ figure.title }}
      </object> -->
    {% else %}
      {% set filename = fig_img|split('/')|last %}
      {% set img = article.media.images[filename] %}
      {%- if excerpt == true %}
        {{ img.derivatives([300]).html(figure.title, figure.alt, 'excerpt') }}
      {%- else %}
        {% if figure.youtube and showcase != 1 %}
          <iframe width="560" height="315" src="https://www.youtube.com/embed/{{ figure.youtube }}"
          frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
        {% else %}
          {{ img.derivatives([600, 1200, 1920]).html(figure.title, figure.alt, '') }}
        {% endif %}
        {% if figure.caption %}
          <figcaption>
            {{ figure.caption|markdown }}
          </figcaption>
        {% endif %}
      {% endif %}
    {% endif %}

  </figure>
