
article {
  padding: var(--fitz);
  margin: var(--fitz);

  display: grid;
  grid-template-areas:
      " context context "
      " header figure "
      " content figure "
      " data figure "
      " footer footer ";
  // grid-template-columns: 1fr var(--col) ;
  // grid-template-rows: auto 1fr auto;

  > * {
    padding: var(--fitz);
    margin: var(--fitz);
  }

  > nav.context {
    grid-area: context;
    position: relative;
    font-size: 1em;
    width: 100%;
    // max-width: var(--col-3);

    display: flex;
    flex-flow: row nowrap;
    justify-content: space-between;

    > * {
      // width: 100%;
    }

    .breadcrumbs {
      text-align: center;
      a {
        display: block;
        padding: 0;

        &::after {
          content: "›";
          padding: 0 .25em;
        }
      }
    }

    > a {

      &.prev {
        justify-content: flex-start;

        &:before {
          content: "‹";
          height:100%;
          padding-right: .5em;
        }

        &:after {
          content: "";
        }
      }

      &.next {
        justify-content: flex-end;

        &:after {
          content: "›";
          height:100%;
          padding-left: .5em;
        }
      }
    }
  }

  > figure {
    grid-area: figure;
    overflow: hidden;
    // max-width: 50%;

    > img {
      width: 100%;
      height: 100%;
      margin: 0 auto;

      object-fit: cover;
      object-position: center;
    }

    > figcaption {
    }

    &:empty {
      display: none;
    }
  }

  > header {
    grid-area: header;
    width: 100%;

    > h1 {
      // text-align: left;
      line-height: 1;
    }

    > h2 {
      font-variant: normal;
      text-transform: uppercase;
      font-weight: 700;
      font-size: .9em;
      letter-spacing: .1em;
    }

    > time {
    }
  }

  > .content {
    grid-area: content;

    > * + * {
      margin-top: var(--fitz);
    }

    > p {

    }

    > .summary {
      // background: var(--color-2-light);
      border-top: 1px solid var(--color-2-dark);
      border-bottom: 1px solid var(--color-2-dark);
      // padding: var(--fitz);
      // margin: var(--fitz);
      ul, li {
        margin: var(--fitz);
      }
    }

    a {
      display: inline;
    }

    > ul, ol {
      margin: 2em;
    }

    > blockquote {
      padding: var(--fitz-2);
      border-left: var(--fitz-2) solid var(--color-1-light);
      line-height: 1.7;
      > blockquote {
        font-style: italic;
        list-style-type: square;
        padding-top: .5em;
        font-size: .9em;
      }
      > ul {
        font-style: italic;
        list-style-type: square;
        padding-top: .5em;
        font-size: .9em;
      }
    }
  }

  > footer {
    grid-area: footer;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;

    > aside {
      min-width: 10em;

      h1 {
      }

      ul, li {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin: 0;
        h3 {
          font-size: 1em;
        }
      }

      &.article-categories {
        a {
          // letter-spacing: .25em;
          // padding-left: .25em;
          text-transform: uppercase;
        }
      }

      &.article-tags {
        a {
          font-style: italic;
        }
      }
    }

    > nav {
      // align-content: flex-end;
      // flex-flow: row;
    }
  }

  > aside {
    flex-flow: row wrap;

    > h2 {
      display: none;
    }

    > a {
      padding: .2em;
    }
  }

  > .data {
    grid-area: data;

    h1, table {
      width: auto;
      margin: 0 auto;
    }

    h1 {
      text-decoration: underline;
    }

    table  table {
      border-left: .1em solid var(--color-fg);
    }

    th, td {
      text-align: center;
      width: auto;
      vertical-align: middle;
      padding-right: 1em;
      padding-left: 1em;
      margin: 0;
    }

    th {
      font-size: .7em;
      letter-spacing: .25em;
      padding-right: .5em;
      // padding-left: .25em;
      // padding-bottom: 0;
      text-transform: uppercase;
      text-align: right;
    }

    td {
      text-align: left;
    }
  }

  > .gallery {
    grid-area: gallery;
    padding: .5em;

    // display: grid;
    // grid-template-areas:
      // " list ";
    // grid-template-columns:   1fr;
    // grid-template-rows:  1fr;
    // grid-gap: .5em;

    > .panel {
      grid-area: panel;
      display: none;
      background-position: center;
      background-size: contain;
      width: 100%;
      height: 100%;
    }

    > .list {
      grid-area: list;
      display: grid;
      grid-template-columns: repeat( auto-fit, calc( var(--col)/2 ) );
      grid-auto-flow: row;
      grid-gap: .5em;

      height: 100%;
      min-height: 5em;

      > figure {
        padding:var(--fitz);
        overflow: hidden;

        height: 100%;
        min-height: 5em;

        > img {
          height: 100%;
          min-height: 5em;
          object-fit: cover;
          object-position: center;
        }

        > figcaption {
          text-align: center;
        }
      }
    }

    &.modal {
      position: fixed;
      z-index: 10;

      top: 0;
      left: 0;
      right: 0;
      bottom: 0;

      grid-template-areas:
        " panel "
        " list ";
      grid-template-columns:   1fr;
      grid-template-rows:  1fr 10em;

      > .panel {
        display: block;
      }

      > .list {
        width: 100%;
        height: 100%;
        min-height: 5em;
        display: grid;
        grid-template-columns: repeat( auto-fit, minmax(1em, 1fr) );
        // grid-template-columns: auto;
        // grid-auto-flow: row;
        > figure {
          width: 100%;
          height: 100%;
          > img {
            width: 100%;
          }
        }
      }
    }
  }



  @include media-bp(6) {
    // @supports (display: grid) {
    //
    //   display: grid;
    //   grid-template-areas:
    //     ' figure footer '
    //     ' header footer'
    //     ' content data'
    //     ' gallery   gallery';
    //   grid-template-columns: 1fr var(--col);
    //   // grid-template-rows: 60vh;
    //
    //   > * {
    //     // margin: 0;
    //   }
    //   > footer {
    //     flex-flow: column;
    //     // align-self: flex-start;
    //   }
    // }
  }
}
