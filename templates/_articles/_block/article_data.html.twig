{# itarate properties of an object into table #}
{#  looks like first level data items cannot be retrieved from
    key value in header - page.header[ 'person' ]  #}
{%- macro printData( dataKey, dataObj ) %}
{%   import _self as this %}
          <dl>
{%   for key, val in dataObj %}
{%     if key != "@type" %}
              <dt>{{ t('PHOTON.' ~ dataKey ~ '.' ~ key) }}</dt>
              <dd>
{%       if val is iterable %}
                {{ val.count }}
                {{ this.printData( dataKey ~ '.' ~ key, val ) }}
{%       else %}
{%         if key ends with "Date" %}
                {{ val|date("l, F d, Y @ g:i A") }}
{%         else %}
                {{ val }}
{%         endif %}
{%       endif %}
              </dd>
{%     endif %}
{%   endfor %}
          </dl>
{% endmacro printData -%}

{%- import _self as this %}
{% if page.header.data[ article.template ] %}
        <aside class="data">
          <h1>{{ t('PHOTON.' ~ article.template) }}</h1>
          {{ this.printData( article.template, page.header.data[ article.template ] ) }}
{%   if article.header.date %}
          <dt>Posted</dt>
          <dd><time title="{{ article.date|date("F d, Y") }}" datetime="{{ article.date|date("Y-m-d") }}">{{ article.date|nicetime() }}</time></dd>
{%   endif %}
{%   if article.header.author %}
          <dt>By</dt>
          <dd>{{ article.header.author }}</dd>
{%   endif %}
{%   if article.header.date %}
          <dt>Modified</dt>
          <dd><time title="{{ article.modified|date("F d, Y") }}" datetime="{{ article.modified|date("Y-m-d") }}">{{ article.modified|nicetime() }}</time></dd>
{%   endif %}
        </aside>
{% else %}
        <!-- no data -->
{% endif %}
